"use strict";(self["webpackChunkmy"]=self["webpackChunkmy"]||[]).push([[573],{2573:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employee-container"},[a("div",{staticClass:"employee-header"},[a("employee-header",{ref:"header",on:{"change-loading":function(t){e.loading=t},"show-data":function(t){e.employee=t}}})],1),e._v(" "),a("employee-list",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{employee:e.employee,"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"},on:{"size-change":e.sizeChange,"page-change":e.pageChange}})],1)},l=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("search-header",{directives:[{name:"sticky",rawName:"v-sticky",value:10,expression:"10"}]},[a("div",{staticClass:"top-header-in"},[a("div",[a("el-autocomplete",{staticStyle:{width:"180px","margin-right":"10px","margin-left":"10px"},attrs:{"fetch-suggestions":function(t,a){e.querySearch(e.key,t,a)},clearable:"",placeholder:"请输入员工工号或姓名",size:"small"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.btnSearch}},[e._v("查询")])],1),e._v(" "),a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addEmployee}},[e._v("添加员工")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.importEmployee}},[e._v("导入员工")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.exportEmployee}},[e._v("导出员工")])],1)])])},i=[],s=a(9636),o=a(1273);const c=e=>(0,o.Z)({url:"/get/employee",params:e}),p="employee_header";var m={name:"EmployeeHeader",mixins:[s.Z],data(){return{key:p,search:{name:"",pageSize:20,currentPage:1}}},mounted(){this.getData()},methods:{btnSearch(){this.setLocalHistory(p,this.search.name),this.getData()},getData(){this.$emit("change-loading",!0),c().then((({data:e})=>{this.$emit("show-data",e)})).catch((e=>e)).finally((()=>{this.$emit("change-loading",!1)}))},addEmployee(){},importEmployee(){},exportEmployee(){}}},h=m,d=a(1001),u=(0,d.Z)(h,r,i,!1,null,"31114ce5",null),g=u.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.employee.index}},[a("el-table-column",{attrs:{align:"center",label:"#",type:"index",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"姓名",prop:"name",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"电话",prop:"phone",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门",prop:"department",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"工号",prop:"userNo",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"入职时间",prop:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"账号",prop:"account"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"性别",width:"55px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row.sex;return[0===a?[e._v("女")]:1===a?[e._v("男")]:e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button-group",[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"}},[e._v("重置密码")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteEmployee(n)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.employee.currentPage,"page-size":e.employee.pageSize,"page-sizes":[20,50,100,200],total:e.employee.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)},v=[],b={name:"UserList",props:{employee:{type:Object,default:()=>({})}},methods:{sizeChange(e){this.$emit("size-change",e)},pageChange(e){this.$emit("page-change",e)},async deleteEmployee({id:e}){await this.$confirm("此操作可能永久删除该员工，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((e=>e))}}},_=b,f=(0,d.Z)(_,y,v,!1,null,"39cd95d1",null),x=f.exports,z={name:"EmployeeManagement",components:{employeeHeader:g,employeeList:x},data(){return{loading:!1,employee:{}}},methods:{sizeChange(e){this.$refs.header.search.pageSize=e,this.$refs.header.search.currentPage=1,this.$refs.header.getData()},pageChange(e){this.$refs.header.search.currentPage=e,this.$refs.header.getData()}}},w=z,k=(0,d.Z)(w,n,l,!1,null,"e41b8ade",null),$=k.exports}}]);
//# sourceMappingURL=573.81266803.js.map